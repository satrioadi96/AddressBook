{% extends "layout.html" %}
{% block body %}
 <div class="row"><h2>Address Book</h2></div>
  <div class="row">
    <div class="col-md-4">
      {% with messages = get_flashed_messages()  %}
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button width="5" height="5" type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
      <div class="card card-body">
        <form action="{{url_for('add_contact')}}" method="POST">
            <h4>Contact Form</h4>
            <h6>Fill this form to create new contact</h6>
          <div class="form-group">
            <input type="text" class="form-control" name="name" placeholder="Name">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="gender" placeholder="Gender (Male/Female)">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="address" placeholder="Address">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="phone_num" placeholder="Phone Number">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="age" placeholder="Age">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="profession" placeholder="Profession">
          </div>
          <button class="btn btn-primary btn-block">
            Create 
          </button>
        </form>
      </div>
    </div>
    <div class="col-md-9">
        <h4>Contact Table</h4>
      <table id="example" class="table table-striped table-bordered " style="width:100%">
        <thead>
          <tr>
            <td><input type="checkbox" id="checkall" /></td>
            <td>ID</td>
            <td>Name</td>
            <td>Gender</td>
            <td>Address</td>
            <td>Phone Number</td>
            <td>Age</td>
            <td>Profession</td>
            <td width="50">Edit/Update</td>
            <td width="50">Delete</td>
          </tr>
        </thead>
        <tbody>
          {% for row in list_users %}
          <tr>
            <td><input type="checkbox" value="{{ row.id }}" name="mycheckbox" class="checkthis" /></td>
            <td>{{row[0]}}</td>
            <td>{{row[1]}}</td>
            <td>{{row[2]}}</td>
            <td>{{row[3]}}</td>
            <td>{{row[4]}}</td>
            <td>{{row[5]}}</td>
            <td>{{row[6]}}</td>
            <td><a href="/edit/{{row[0]}}" class="btn btn-secondary btn-sm">Edit</a></td>
            <td><a href="/delete/{{row[0]}}" class="btn btn-danger btn-delete btn-sm">Delete</a></td>
            <!--
              <td width="130">
            <td><p data-placement="top" data-toggle="tooltip" title="Edit/Update"><button href="/edit/{{row[0]}}" class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit" ><span class="glyphicon glyphicon-pencil"></span></button></p></td>
            <td><p data-placement="top" data-toggle="tooltip" title="Delete"><button href="/delete/{{row[0]}}" class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete" ><span class="glyphicon glyphicon-trash"></span></button></p></td>
              </td>-->
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <div>
        <p>
          <a href="{{ url_for('.download_report') }}">Generate Report (Excel File)</a>
          <!--
          <button color=green type='submit' formaction="{{ url_for('.download_report') }}" class="btn btn-primary btn-block">
              Generate Report<br/>(Excel File)
          </button>
          -->
        </p>
      </div>
    </div>
  </div>
</div>

<style>
table{
    width:100%;
}
#example_filter{
    float:right;
}
#example_paginate{
    float:right;
}
label {
    display: inline-flex;
    margin-bottom: .5rem;
    margin-top: .5rem;
     
}
.page-item.disabled .page-link {
    color: #6c757d;
    pointer-events: none;
    cursor: auto;
    background-color: #fff;
    border-color: #dee2e6;
}
</style>
<script>
function checkAll(bx) {
  var cbs = document.getElementsByTagName('input');
  for(var i=0; i < cbs.length; i++) {
    if(cbs[i].type == 'checkbox') {
      cbs[i].checked = bx.checked;
    }
  }
}

$(document).ready(function(){
$("#mytable #checkall").click(function () {
        if ($("#mytable #checkall").is(':checked')) {
            $("#mytable input[type=checkbox]").each(function () {
                $(this).prop("checked", true);
            });
  
        } else {
            $("#mytable input[type=checkbox]").each(function () {
                $(this).prop("checked", false);
            });
        }
    });
      
    $("[data-toggle=tooltip]").tooltip();
});
</script>
  
{% endblock %}